<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="static/styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Speech</title>
</head>
<body>
    <h1>Virtual Speech</h1>
    <p>Your one-stop solution for instant feedback on interviews! üéôÔ∏è</p>
    
    <form method="POST" enctype="multipart/form-data">
        <label for="file">Upload your interview audio:</label>
        <br><br>
        <input type="file" name="file" accept="audio/*" required>
        <br><br>

        <label for="email">Enter your email to receive the report:</label>
        <br><br>
        <input type="email" id="email" name="email" placeholder="Enter your email" required>
        <br><br>

        <label for="query">Enter your question about the interview:</label>
        <br><br>
        <input type="text" id="query" name="query" placeholder="Ask a question...">
        <br><br>

        <button type="submit">Upload</button>
    </form>

    {% if transcription %}
    <h2>Transcription</h2>
    <p>{{ transcription }}</p>

    <h2>Feedback</h2>
    <audio controls>
        <source src="{{ feedback_audio }}" type="audio/mpeg">
        Your browser does not support the audio tag.
    </audio>

    <h2>Personalized Query Feedback</h2>
    <p>{{ personalized_feedback }}</p>

    <h2>Analysis</h2>
    <img src="{{ url_for('static', filename='pie_chart.png') }}" alt="Pie Chart">
    
    <h2>Emotion Analysis</h2>
    <p><strong>Emotion:</strong> {{ predicted_emotion }}</p>
    
    <h2>Polarity Score</h2>
    <p><strong>Polarity:</strong> {{ polarity_score }}</p>
    {% endif %}
</body>
</html>
